<div id="stock-lookup">
  <h3>Search for Stocks</h3>
  <%= form_tag search_stocks_path, remote:true, method: :get, id:"stock-lookup-form" do %>
    <div class="form-group row no-padding text-center col-md-12">
      <div class="col-md-10">
        <%= text_field_tag :stock, params[:stock], placeholder: "Stock Tricker Symbol", autofocus:true, class:"form-control search-box input-lg" %>
      </div>
      <div class="col-md-2">
        <%= button_tag(type: :submit, class:"btn btn-lg btn-success") do %>
          <i class="fa fa-search"></i> Look up a stock
        <% end %>
      </div>
    </div>
  <% end %>
  
  <%= render 'common/spinner' %>
  
  <% if @stock %>
    <div id="stock_lookup_results" class="well results-block">
      <strong>Symbol: <%= @stock.ticker %></strong>
      <strong>Name: <%= @stock.name %></strong>
      <strong>Price: <%= @stock.price %></strong>
      <%= link_to "Add to my Stocks", user_stocks_path(user: current_user, stock_ticker: @stock.ticker, stock_id: @stock_id ? @stock_id:""), 
          class:"btn btn-xs btn-success", method: :post %> 
          <!-- Puede no encontrar un stock_id si la stock fue buscada directamente en la gema y aún no existía en la DB propia -->
    </div>
  <% end %>
  
  <div id="stock_lookup_errors"></div>
    
</div>